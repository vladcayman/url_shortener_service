# üîó –°–µ—Ä–≤–∏—Å –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ (URL Shortener)

–ü—Ä–æ—Å—Ç–æ–π, —É–¥–æ–±–Ω—ã–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö URL.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫, —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–ª–∏–∫–æ–≤ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ **Django + Django REST Framework** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Docker** –∏ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö **PostgreSQL**.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÇÔ∏è –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
- üë§ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª–∏–∫–æ–≤ (–¥–∞—Ç–∞, –≤—Ä–µ–º—è, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –û–°, –±—Ä–∞—É–∑–µ—Ä, IP)  
- üè∑ –†–∞–±–æ—Ç–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ç–µ–≥–∞–º–∏
- ‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Django –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–∫–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏  
- üåê –ú–∏–Ω–∏-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ HTML/CSS/JS  
- üê≥ –ü–æ–ª–Ω–æ—Å—Ç—å—é Docker-–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (web + db)

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.13
- Django 5.2.8
- Django REST Framework
- JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`djangorestframework-simplejwt`)
- drf-spectacular (Swagger / OpenAPI)
- PostgreSQL 15
- Docker + Docker Compose
- HTML + JS (Frontend –¥–ª—è —Ñ–æ—Ä–º—ã)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
shortener_project/
‚îÇ
‚îú‚îÄ‚îÄ shortener/                          # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Django
‚îÇ   ‚îú‚îÄ‚îÄ migrations/                     # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ templates/                      # HTML-—à–∞–±–ª–æ–Ω—ã (Frontend)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html                  # –§–æ—Ä–º–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ my_links.html               # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (—Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ admin.py                        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ
‚îÇ   ‚îú‚îÄ‚îÄ apps.py
‚îÇ   ‚îú‚îÄ‚îÄ filters.py                      # –ü–æ–∏—Å–∫ / —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ models.py                       # –ú–æ–¥–µ–ª–∏ Link, Click, Category, Tag
‚îÇ   ‚îú‚îÄ‚îÄ permissions.py                  # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚îÇ   ‚îú‚îÄ‚îÄ serializers.py                  # DRF —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ tests.py                        # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ urls.py                         # URL-–º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ utils.py                        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ views.py                        # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ API/Frontend
‚îÇ
‚îú‚îÄ‚îÄ shortener_project/                  # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å Django
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ asgi.py
‚îÇ   ‚îú‚îÄ‚îÄ settings.py                     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îú‚îÄ‚îÄ urls.py                         # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py
‚îÇ
‚îú‚îÄ‚îÄ .dockerignore                       # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îú‚îÄ‚îÄ .gitignore                          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml                  # Docker: backend + PostgreSQL
‚îú‚îÄ‚îÄ Dockerfile                          # –û–±—Ä–∞–∑ Django
‚îÇ
‚îú‚îÄ‚îÄ LICENSE                             # MIT License
‚îú‚îÄ‚îÄ manage.py                           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Django
‚îú‚îÄ‚îÄ pyproject.toml                      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (uv)
‚îú‚îÄ‚îÄ README.md                           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ shortener.postman_collection.json   # –ö–æ–ª–ª–µ–∫—Ü–∏—è Postman
‚îî‚îÄ‚îÄ uv.lock                             # Lock-—Ñ–∞–π–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (uv)
```
---

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Docker

**1. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
```
docker compose up -d --build
```
–í docker-compose.yml –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞:

shortener_web ‚Äî Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

shortener_db ‚Äî PostgreSQL 15 + volume postgres_data

**2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã**
```
docker compose ps
```
**3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏**

(–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã)

–ú–æ–∂–Ω–æ –ª—é–±—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º

–í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî —á–µ—Ä–µ–∑ compose:
```
docker compose exec web uv run python manage.py migrate
```
–í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî —á–µ—Ä–µ–∑ docker exec:
```
docker exec -it shortener_web uv run python manage.py migrate
```
**4. –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî —á–µ—Ä–µ–∑ compose:
```
docker compose exec web uv run python manage.py createsuperuser
```
–í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî —á–µ—Ä–µ–∑ docker exec:
```
docker exec -it shortener_web uv run python manage.py createsuperuser
```
**5. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏**

–õ–æ–≥–∏ –≤–µ–±-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```
docker compose logs web
```
–∏–ª–∏
```
docker logs shortener_web
```
**6. –û—Ç–∫–ª—é—á–∏—Ç—å –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
```
docker compose down
```
---

## –ê–¥—Ä–µ—Å–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:

- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: http://localhost:8000/
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ (Frontend): http://localhost:8000/my/links/
- –ê–¥–º–∏–Ω–∫–∞: http://localhost:8000/admin/
- Swagger UI: http://localhost:8000/api/docs/
- OpenAPI-—Å—Ö–µ–º–∞: http://localhost:8000/api/schema/

---

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT)

**–ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä—É —Ç–æ–∫–µ–Ω–æ–≤:**
```
POST /api/v1/auth/token/
Content-Type: application/json

{
    "username": "admin",
    "password": "admin_password"
}
```

**–û–±–Ω–æ–≤–∏—Ç—å access-—Ç–æ–∫–µ–Ω:**
```
POST /api/v1/auth/token/refresh/

{
    "refresh": "<refresh_token_here>"
}
```

## –ü—É–±–ª–∏—á–Ω–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏

**–≠–Ω–¥–ø–æ–∏–Ω—Ç:**

- POST /api/v1/shorten/ ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```
{
  "original_url": "https://example.com/very/long/url",
  "title": "My short URL"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
200 OK
{
  "id": 1,
  "short_code": "5y8L09A",
  "short_url": "/r/5y8L09A/",
  "original_url": "https://example.com/very/long/url",
  "title": "My short URL",
  "clicks_count": 0,
  "is_alive": true,
  "created_at": "2025-11-15T14:31:00Z"
}
```

## –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ

**–≠–Ω–¥–ø–æ–∏–Ω—Ç:**

- GET /r/<short_code>/

**–ü—Ä–∏–º–µ—Ä:**

GET http://localhost:8000/r/5y8L09A/

- –ò—â–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç Link –ø–æ short_code
- –í –±–∞–∑—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ ClickEvent —Å IP, –±—Ä–∞—É–∑–µ—Ä–æ–º, –û–°
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ original_url

## –†–∞–±–æ—Ç–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è JWT)

**–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

- GET /api/v1/links/

–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
```
Authorization: Bearer <token>
```

**–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –ø–æ–¥ —Å–≤–æ–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:**

- POST /api/v1/links/
```
{
  "original_url": "https://example.com",
  "title": "Example",
  "category": 1,
  "tags": [1, 2]
}
```

**–î–µ—Ç–∞–ª–∏ / –∏–∑–º–µ–Ω–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Å—ã–ª–∫–∏:**

- GET /api/v1/links/{id}/
- PATCH /api/v1/links/{id}/
- DELETE /api/v1/links/{id}/

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏ (–¥–æ—Å—Ç—É–ø –ø–æ JWT)**

- GET /api/v1/categories/
- GET /api/v1/tags/

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å—Å—ã–ª–æ–∫. –°–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —É–¥–æ–±–Ω–æ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.